# ConcreteSky optional JWT auth (for MCP / automated UI tests)
#
# Copy to .env and fill values:
#   cp .env.example .env
#
# IMPORTANT: never commit .env with secrets.

# Enable JWT support in the ConcreteSky API (Authorization: Bearer <token>)
CONCRETESKY_JWT_ENABLED=0

# Strong random secret (>= 32 chars recommended)
CONCRETESKY_JWT_SECRET=

# Allowed Concrete CMS usernames (comma-separated). Token "sub" must match one of these.
# Example: CONCRETESKY_JWT_USERS=tbi
CONCRETESKY_JWT_USERS=

# Require that the JWT user is a Concrete "Super User" (recommended)
CONCRETESKY_JWT_REQUIRE_SUPERUSER=1

# Token lifetime in seconds when generating with the helper tool
CONCRETESKY_JWT_TTL_SECONDS=86400

# Optional: If set, the API will reject requests that do not include a valid JWT.
# Leave 0 to keep normal browser/CSRF flow working.
CONCRETESKY_JWT_ENFORCE=0

# Optional MCP / automation: JWT â†’ ConcreteCMS session bridge (cookie login)
#
# When enabled, a caller with a valid JWT may call {"method":"mcpLogin"} to establish
# a ConcreteCMS session cookie usable by browser automation.
CONCRETESKY_MCP_LOGIN_ENABLED=0

# Optional (dangerous): allow a superuser JWT to impersonate a different Concrete username
# via params.userName. Leave disabled unless you fully control the environment.
CONCRETESKY_MCP_LOGIN_ALLOW_IMPERSONATE=0
